---
import Layout from "../layouts/Layout.astro";
import Aside from "../components/aside.astro";
import Peticiones from "../components/peticiones.astro";

import img1 from "../assets/img/1.webp";
import img2 from "../assets/img/2.webp";
import img3 from "../assets/img/3.webp";
import img4 from "../assets/img/4.webp";

import allProducts from "../assets/jsons/allProducts.json";
import categories from "../assets/jsons/categories.json";
import oneProduct from "../assets/jsons/oneProduct.json";
import destacados from "../assets/jsons/destacados.json";

const allJson = JSON.stringify(allProducts, null, 2);
const catJson = JSON.stringify(categories, null, 2);
const oneJson = JSON.stringify(oneProduct, null, 2);
const destJson = JSON.stringify(destacados, null, 2);

const cat = ["Laptops", "Gráficas", "Procesadores", "Monitores", "Gabinetes"];
const catNameJson = JSON.stringify(cat, null, 2);
---
<Layout title="Netshop API - Documentacion">
    <div class="cont">
        <Aside />
        <main>
            <hr id="introduccion" class="border-gray-500">
            <article>
                <h1>Introducción</h1>
                <div class="parrafo">
                    <p>
                        Netshop API es un proyecto pensado para que cualquier dev que necesite acceder a fichas de productos tecnológicos
                        lo pueda hacer de forma fácil.
                    </p>
                    <p>
                        Está orientado al desarrollo de tiendas de ecommerce de tecnología pero es abierto a cualquier tipo de contenido que desees desarrollar.
                    </p>
                    <p>
                        Cuenta con una lista de más de 30 productos en formato json con imágenes incluídas que van desde componentes de PC, a laptops y gabinetes.
                    </p>
                </div>
            </article>
            <hr id="showcase" class="border-gray-500">
            <article>
                <h1>Caso de ejemplo</h1>
                <a href="https://netshopuy.vercel.app/" target="_blank"><h3>Netshp Uy - Ecommerce</h3></a>
                <div class="gridShowcase rounded-lg">
                    <img class="rounded-lg border dark:border-gray-500" src={img1.src} alt="Netshop ecommerce página de inicio"/>
                    <img class="rounded-lg border dark:border-gray-500" src={img2.src} alt="Netshop ecommerce categorías"/>
                    <img class="rounded-lg border dark:border-gray-500" src={img3.src} alt="Netshop ecommerce descripción del producto"/>
                    <img class="rounded-lg border dark:border-gray-500" src={img4.src} alt="Netshop ecommerce carrito de compras"/>
                </div>
            </article>
            <Peticiones id="all" title="Todos los productos" json={allJson} url="https://netshop-api.vercel.app/api/products" />
            <Peticiones id="category" title="Filtrado por categoría" json={catJson} url="https://netshop-api.vercel.app/api/products?category=procesadores"/>
            <Peticiones id="idProduct" title="Producto por ID" json={oneJson} url="https://netshop-api.vercel.app/api/products/4006"/>
            <Peticiones id="destacados" title="Productos destacados" json={destJson} url="https://netshop-api.vercel.app/api/dest"/>
            <Peticiones id="categories" title="Categorías disponibles" json={catNameJson} url="https://netshop-api.vercel.app/api/categories"/>       
        </main>
    </div>
</Layout>

<style>
    .cont {
        display: flex;
        gap: 200px;
    }

    main {
        display: flex;
        flex-direction: column;
        width: 100%;
        height: 100dvh;
        padding-bottom: 50px;
        overflow-y: scroll;
        scroll-behavior: smooth;
        scrollbar-width: none;
    }

    main :global(hr) {
        width: 60%;
        margin-bottom: 150px;
        margin-top: 50px;
    }
    
    #introduccion {
        margin-top: 0;
    }

    h1 {
        font-size: 4rem;
        color: white;
    }

    h3 {
        font-size: 2rem;
        color: white;
    }

    p {
        font-size: 1.3rem;
        margin-bottom: 10px;
        margin-left: 10px;
        color: rgb(159, 159, 159);
    }

    main :global(article) {
        width: 60%;
    }

    main :global(pre) {        
        color: rgb(179, 179, 179);
        font-size: 1rem;
    }

    .gridShowcase {
        background: rgba(255, 255, 255, 0.1);
        padding: 10px;
        display: grid;
        grid-template-columns: repeat(
            auto-fit class="",
            minmax(400px, 1fr)
        );
        gap: 10px;
        margin-top: 50px;
    }

    @media (max-width: 1600px) {
        .cont {
            gap: 70px;
        }

        main :global(article), main :global(hr) {
            width: 80%;
        }
    }

    @media (max-width: 1160px) {
        .cont {
            gap: 40px;
        }

        main :global(article), main :global(hr) {
            width: 93%;
        }

        main :global(pre) {
            font-size: 0.9rem;
        }
    }

    @media (max-width: 910px) {
        main :global(pre) {
            font-size: 0.8rem;
        }
    }

    @media (max-width: 840px) {
        main {
            padding-inline: 50px;
        }

        main :global(article), main :global(hr) {
            width: 100%;
        }
    }

    @media (max-width: 610px) {
        main :global(.preDiv) {
            display: none;
        }
    }

    @media (max-width: 450px) {
        main :global(h1) {
            font-size: 2.5rem;
        }
        
        p {
            font-size: 1rem;
        }

        main :global(hr) {
            margin-bottom: 100px;
        }
    }
</style>